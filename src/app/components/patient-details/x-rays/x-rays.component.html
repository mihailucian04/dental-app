<div style="width:100%">
    <table mat-table [dataSource]="dataSourceXRays" matSort style="width: 100%" *ngIf="xrays.length > 0">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let element">
                <fa-icon icon="file-image" [styles]="{ 'color': '#595959', 'margin-left': '5px'}" [fixedWidth]="true">
                </fa-icon>
                {{element.name}}
            </td>
        </ng-container>

        <ng-container matColumnDef="uploaded">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Uploaded </th>
            <td mat-cell *matCellDef="let element"> {{element.uploaded}} </td>
        </ng-container>

        <ng-container matColumnDef="size">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Size </th>
            <td mat-cell *matCellDef="let element"> {{element.size}} </td>
        </ng-container>

        <ng-container matColumnDef="view">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element">
                <fa-icon icon="eye" [styles]="{ 'color': '#595959', 'margin-left': '5px', 'cursor':'pointer' }"
                    [fixedWidth]="true" (click)="showPreview(element.file)">
                </fa-icon>
            </td>
        </ng-container>

        <ng-container matColumnDef="download">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element">
                <span style="cursor: pointer" (click)="downloadFile(element)">
                    <fa-icon icon="download" [styles]="{ 'color': '#595959', 'margin-left': '25px'}"
                        [fixedWidth]="true">
                    </fa-icon>
                    Download
                </span>
            </td>
        </ng-container>

        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element" style="text-align: -webkit-right">
                <fa-icon icon="trash-alt" [styles]="{ 'color': '#595959', 'margin-left': '5px', 'cursor':'pointer' }"
                    (click)="openDeleteDialog(element.fileId)" [fixedWidth]="true">
                </fa-icon>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsXRays; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsXRays;" class="element-row"></tr>
    </table>

    <div *ngIf="xrays.length === 0" fxLayout="column wrap" fxLayoutAlign="center center" style="padding-top:160px;color:#d0d2d6;">
            <fa-icon icon="images" [styles]="{'font-size': '100px'}" [fixedWidth]="true">
            </fa-icon>
        <span style="font-size:30px;font-weight:100">No x-rays found</span>
        <span style="font-size:22px;font-weight:100">Press the + button to add a x-ray for this patient</span>
    </div>

    <div style="z-index:5;position:fixed;display:flex;align-self:flex-end;bottom:65px;right: 65px;">
        <button mat-fab color="primary" (click)="fileInput.click()" matTooltip="Upload a new x-ray" type="file"
            [matTooltipPosition]="'before'" aria-label="Upload a new x-ray">
            <fa-icon icon="upload" [styles]="{ 'color': '#fff'}" [fixedWidth]="true">
            </fa-icon>
        </button>
        <input hidden (change)="handleFileInput($event.target.files)" #fileInput type="file" id="file">
    </div>

    <div style="z-index:10;">
        <div [hidden]="!isLoading" style="text-align: -webkit-center;margin-top:5vh;height: 200px">
            <mat-spinner [diameter]="70"></mat-spinner>
        </div>
    </div>
</div>